<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHESECURE - Women's Safety Platform</title>
    <link rel="stylesheet" href="styles/main.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Auth Section -->
    <div id="auth-container" class="auth-container">
        <div class="auth-card">
            <div class="auth-header">
                <h1 class="logo">SHESECURE</h1>
                <p class="tagline">Your Safety, Our Priority</p>
            </div>
            
            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="login">Sign In</button>
                <button class="auth-tab" data-tab="register">Register</button>
            </div>
            
            <form id="auth-form" class="auth-form">
                <div id="name-field" class="form-group hidden">
                    <i class="fas fa-user"></i>
                    <input type="text" id="name" placeholder="Full Name" required>
                </div>
                
                <div class="form-group">
                    <i class="fas fa-envelope"></i>
                    <input type="email" id="email" placeholder="Email Address" required>
                </div>
                
                <div class="form-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="password" placeholder="Password" required>
                    <button type="button" class="toggle-password">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
                
                <div id="confirm-password-field" class="form-group hidden">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="confirmPassword" placeholder="Confirm Password">
                </div>
                
                <button type="submit" class="auth-btn">Sign In</button>
            </form>
        </div>
    </div>
    
    <!-- Dashboard Section -->
    <div id="dashboard-container" class="dashboard-container hidden">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="header-content">
                <h1 class="logo">SHESECURE</h1>
                
                <div class="header-actions">
                    <button id="search-btn" class="icon-btn">
                        <i class="fas fa-search"></i>
                    </button>
                    <button id="ai-guide-btn" class="icon-btn ai-btn">
                        <i class="fas fa-robot"></i>
                    </button>
                    <button id="emergency-btn" class="icon-btn emergency-btn">
                        <i class="fas fa-bell"></i>
                    </button>
                    <div class="user-profile">
                        <img src="https://images.pexels.com/photos/415829/pexels-photo-415829.jpeg?auto=compress&cs=tinysrgb&w=50&h=50&fit=crop" alt="Profile" class="profile-img">
                        <span id="user-name">User</span>
                    </div>
                    <button id="logout-btn" class="logout-btn">Logout</button>
                </div>
            </div>
        </header>
        
        <div class="dashboard-layout">
            <!-- Sidebar -->
            <nav class="sidebar">
                <div class="nav-items">
                    <button class="nav-item active" data-section="home">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </button>
                    <button class="nav-item" data-section="safety-ratings">
                        <i class="fas fa-star"></i>
                        <span>Safety Ratings</span>
                    </button>
                    <button class="nav-item" data-section="safe-routes">
                        <i class="fas fa-route"></i>
                        <span>Safe Routes</span>
                    </button>
                    <button class="nav-item" data-section="community">
                        <i class="fas fa-users"></i>
                        <span>Community</span>
                    </button>
                    <button class="nav-item" data-section="self-defense">
                        <i class="fas fa-fist-raised"></i>
                        <span>Self Defense</span>
                    </button>
                    <button class="nav-item" data-section="risk-prediction">
                        <i class="fas fa-brain"></i>
                        <span>AI Risk Prediction</span>
                    </button>
                </div>
            </nav>
            
            <!-- Main Content -->
            <main class="main-content">
                <!-- Home Section -->
                <div id="home-section" class="content-section active">
                    <div class="section-header">
                        <h2>Safety Feed</h2>
                        <button class="create-post-btn">
                            <i class="fas fa-plus"></i>
                            Share Safety Update
                        </button>
                    </div>
                    
                    <div class="posts-container" id="posts-container">
                        <!-- Posts will be dynamically loaded -->
                    </div>
                </div>
                
                <!-- Safety Ratings Section -->
                <div id="safety-ratings-section" class="content-section">
                    <div class="section-header">
                        <h2>Location Safety Ratings</h2>
                        <button class="rate-location-btn">
                            <i class="fas fa-plus"></i>
                            Rate Location
                        </button>
                    </div>
                    
                    <div class="filters">
                        <select id="rating-filter">
                            <option value="all">All Ratings</option>
                            <option value="5">Excellent (5 stars)</option>
                            <option value="4">Good (4 stars)</option>
                            <option value="3">Average (3 stars)</option>
                            <option value="2">Poor (2 stars)</option>
                            <option value="1">Dangerous (1 star)</option>
                        </select>
                    </div>
                    
                    <div class="ratings-grid" id="ratings-grid">
                        <!-- Safety ratings will be loaded here -->
                    </div>
                </div>
                
                <!-- Safe Routes Section -->
                <div id="safe-routes-section" class="content-section">
                    <div class="section-header">
                        <h2>Safe Route Navigation</h2>
                    </div>
                    
                    <div class="route-planner">
                        <div class="route-inputs">
                            <input type="text" id="start-location" placeholder="Starting location">
                            <input type="text" id="end-location" placeholder="Destination">
                            <button id="find-safe-route" class="primary-btn">Find Safe Route</button>
                        </div>
                        
                        <div class="route-options">
                            <label>
                                <input type="checkbox" id="avoid-dark-areas" checked>
                                Avoid poorly lit areas
                            </label>
                            <label>
                                <input type="checkbox" id="prefer-crowded" checked>
                                Prefer crowded areas
                            </label>
                            <label>
                                <input type="checkbox" id="avoid-incidents" checked>
                                Avoid areas with recent incidents
                            </label>
                        </div>
                    </div>
                    
                    <div id="map-container" class="map-container">
                        <div id="google-map" style="width: 100%; height: 400px;"></div>
                    </div>
                </div>
                
                <!-- Community Section -->
                <div id="community-section" class="content-section">
                    <div class="section-header">
                        <h2>Community Safety Updates</h2>
                        <button class="share-media-btn">
                            <i class="fas fa-camera"></i>
                            Share Media
                        </button>
                    </div>
                    
                    <div class="media-feed" id="media-feed">
                        <!-- Community posts will be loaded here -->
                    </div>
                </div>
                
                <!-- Self Defense Section -->
                <div id="self-defense-section" class="content-section">
                    <div class="section-header">
                        <h2>Self Defense Training</h2>
                        <button class="become-instructor-btn">
                            <i class="fas fa-plus"></i>
                            Become an Instructor
                        </button>
                    </div>
                    
                    <div class="instructor-filters">
                        <select id="price-filter">
                            <option value="all">All Prices</option>
                            <option value="free">Free</option>
                            <option value="paid">Paid</option>
                        </select>
                        <select id="skill-filter">
                            <option value="all">All Skill Levels</option>
                            <option value="beginner">Beginner</option>
                            <option value="intermediate">Intermediate</option>
                            <option value="advanced">Advanced</option>
                        </select>
                    </div>
                    
                    <div class="instructors-grid" id="instructors-grid">
                        <!-- Instructors will be loaded here -->
                    </div>
                </div>
                
                <!-- Risk Prediction Section -->
                <div id="risk-prediction-section" class="content-section">
                    <div class="section-header">
                        <h2>AI Risk Prediction</h2>
                    </div>
                    
                    <div class="risk-dashboard">
                        <div class="current-risk">
                            <h3>Current Risk Level</h3>
                            <div class="risk-meter">
                                <div class="risk-level low" id="current-risk-level">
                                    <span class="risk-text">LOW</span>
                                    <span class="risk-percentage">25%</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="risk-factors">
                            <h3>Risk Factors</h3>
                            <div class="factors-list" id="risk-factors">
                                <!-- Risk factors will be loaded here -->
                            </div>
                        </div>
                        
                        <div class="recommendations">
                            <h3>Safety Recommendations</h3>
                            <div class="recommendations-list" id="recommendations-list">
                                <!-- Recommendations will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <!-- Modals -->
    <!-- Search Modal -->
    <div id="search-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Search</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="search-container">
                <input type="text" id="search-input" placeholder="Search locations, users, or safety updates...">
                <div class="search-filters">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="locations">Locations</button>
                    <button class="filter-btn" data-filter="users">Users</button>
                    <button class="filter-btn" data-filter="posts">Posts</button>
                </div>
                <div id="search-results" class="search-results">
                    <!-- Search results will be displayed here -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- AI Guide Modal -->
    <div id="ai-guide-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>AI Safety Guide</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="ai-chat-container">
                <div id="ai-chat-messages" class="chat-messages">
                    <div class="ai-message">
                        <div class="message-avatar">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="message-content">
                            <p>Hello! I'm your AI Safety Guide. How can I help you stay safe today?</p>
                        </div>
                    </div>
                </div>
                <div class="chat-input-container">
                    <input type="text" id="ai-chat-input" placeholder="Ask me about safety tips, routes, or emergency procedures...">
                    <button id="send-ai-message" class="send-btn">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Emergency Panel Modal -->
    <div id="emergency-modal" class="modal emergency-modal">
        <div class="modal-content">
            <div class="modal-header emergency-header">
                <h3>Emergency Panel</h3>
                <button class="close-btn">&times;</button>
            </div>
            <div class="emergency-actions">
                <button id="voice-alert-btn" class="emergency-action-btn">
                    <i class="fas fa-microphone"></i>
                    <span>Voice Alert</span>
                </button>
                <button id="silent-alert-btn" class="emergency-action-btn">
                    <i class="fas fa-bell-slash"></i>
                    <span>Silent Alert</span>
                </button>
                <button id="call-police-btn" class="emergency-action-btn">
                    <i class="fas fa-phone"></i>
                    <span>Call Police</span>
                </button>
                <button id="share-location-btn" class="emergency-action-btn">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>Share Location</span>
                </button>
            </div>
            <div class="emergency-contacts">
                <h4>Emergency Contacts</h4>
                <div id="emergency-contacts-list" class="contacts-list">
                    <!-- Emergency contacts will be loaded here -->
                </div>
                <button class="add-contact-btn">
                    <i class="fas fa-plus"></i>
                    Add Emergency Contact
                </button>
            </div>
        </div>
    </div>
    
    <!-- Post Creation Modal -->
    <div id="create-post-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Share Safety Update</h3>
                <button class="close-btn">&times;</button>
            </div>
            <form id="create-post-form" class="post-form">
                <textarea placeholder="Share safety information, warnings, or tips..." required></textarea>
                <input type="text" placeholder="Location" required>
                <div class="post-options">
                    <label class="file-upload">
                        <i class="fas fa-camera"></i>
                        <span>Add Photo/Video</span>
                        <input type="file" accept="image/*,video/*" multiple>
                    </label>
                    <select required>
                        <option value="">Safety Level</option>
                        <option value="safe">Safe</option>
                        <option value="caution">Caution</option>
                        <option value="unsafe">Unsafe</option>
                        <option value="emergency">Emergency</option>
                    </select>
                </div>
                <button type="submit" class="primary-btn">Share Update</button>
            </form>
        </div>
    </div>
    
    <!-- Rating Modal -->
    <div id="rating-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Rate Location</h3>
                <button class="close-btn">&times;</button>
            </div>
            <form id="rating-form" class="rating-form">
                <input type="text" placeholder="Location name or address" required>
                
                <div class="rating-categories">
                    <div class="rating-category">
                        <label>Overall Safety</label>
                        <div class="star-rating" data-category="overall">
                            <i class="fas fa-star" data-rating="1"></i>
                            <i class="fas fa-star" data-rating="2"></i>
                            <i class="fas fa-star" data-rating="3"></i>
                            <i class="fas fa-star" data-rating="4"></i>
                            <i class="fas fa-star" data-rating="5"></i>
                        </div>
                    </div>
                    
                    <div class="rating-category">
                        <label>Lighting</label>
                        <div class="star-rating" data-category="lighting">
                            <i class="fas fa-star" data-rating="1"></i>
                            <i class="fas fa-star" data-rating="2"></i>
                            <i class="fas fa-star" data-rating="3"></i>
                            <i class="fas fa-star" data-rating="4"></i>
                            <i class="fas fa-star" data-rating="5"></i>
                        </div>
                    </div>
                    
                    <div class="rating-category">
                        <label>Crowd Density</label>
                        <div class="star-rating" data-category="crowd">
                            <i class="fas fa-star" data-rating="1"></i>
                            <i class="fas fa-star" data-rating="2"></i>
                            <i class="fas fa-star" data-rating="3"></i>
                            <i class="fas fa-star" data-rating="4"></i>
                            <i class="fas fa-star" data-rating="5"></i>
                        </div>
                    </div>
                </div>
                
                <textarea placeholder="Share your experience and any safety tips..."></textarea>
                <button type="submit" class="primary-btn">Submit Rating</button>
            </form>
        </div>
    </div>
    
    <!-- Instructor Registration Modal -->
    <div id="instructor-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Become a Self Defense Instructor</h3>
                <button class="close-btn">&times;</button>
            </div>
            <form id="instructor-form" class="instructor-form">
                <input type="text" placeholder="Your Name" required>
                <input type="text" placeholder="Specialization (e.g., Karate, Krav Maga)" required>
                <textarea placeholder="Experience and qualifications" required></textarea>
                <input type="text" placeholder="Location/Area you cover" required>
                
                <div class="pricing-options">
                    <label>
                        <input type="radio" name="pricing" value="free" required>
                        <span>Free Classes</span>
                    </label>
                    <label>
                        <input type="radio" name="pricing" value="paid" required>
                        <span>Paid Classes</span>
                    </label>
                </div>
                
                <div id="price-input" class="hidden">
                    <input type="number" placeholder="Price per session ($)" min="0">
                </div>
                
                <select required>
                    <option value="">Skill Level</option>
                    <option value="beginner">Beginner</option>
                    <option value="intermediate">Intermediate</option>
                    <option value="advanced">Advanced</option>
                    <option value="all">All Levels</option>
                </select>
                
                <input type="tel" placeholder="Contact Number" required>
                <input type="email" placeholder="Email Address" required>
                
                <button type="submit" class="primary-btn">Register as Instructor</button>
            </form>
        </div>
    </div>
    
    <!-- Firebase Configuration -->
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-storage-compat.js"></script>
    
    <!-- Google Maps API -->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&callback=initMap"></script>
    
    <!-- Custom Scripts -->
    <script src="js/firebase-config.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/safety-ratings.js"></script>
    <script src="js/safe-routes.js"></script>
    <script src="js/community.js"></script>
    <script src="js/self-defense.js"></script>
    <script src="js/risk-prediction.js"></script>
    <script src="js/emergency.js"></script>
    <script src="js/ai-guide.js"></script>
    <script src="js/search.js"></script>
    <script src="js/main.js"></script>
</body>
</html>